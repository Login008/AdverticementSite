<%- include('../partials/header', { userId, csrfToken }) %>
<main>
  <h1>Новое объявление</h1>
  <% if (typeof error !== 'undefined') { %>
    <div class="error"><%= error %></div>
  <% } %>
  <form action="/ads/create" method="post" enctype="multipart/form-data">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    
    <div class="form-group">
      <label>Заголовок *</label>
      <input type="text" name="title" placeholder="Название товара" required>
    </div>

    <div class="form-group">
      <label>Описание</label>
      <textarea name="description" rows="5" placeholder="Подробное описание"></textarea>
    </div>

    <div class="form-group">
      <label>Цена *</label>
      <input type="number" name="price" step="0.01" placeholder="0.00" required>
    </div>

    <div class="form-group">
      <label>Изображение</label>
      <input type="file" name="image" accept="image/*">
    </div>

    <fieldset class="categories">
      <legend>Категории</legend>
      <% categories.forEach(category => { %>
        <label class="category-checkbox">
          <input type="checkbox" name="categories" value="<%= category.CategoryID %>">
          <%= category.Name %>
        </label>
      <% }) %>
    </fieldset>

    <button type="submit" class="btn-primary">Опубликовать</button>
  </form>
</main>
<%- include('../partials/footer') %>
